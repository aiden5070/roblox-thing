repeat wait() until game:GetService('Players').LocalPlayer.Character
print("[Client Loaded]")
print("TPO-AE 1.0 loaded")
local plr = game:GetService('Players').LocalPlayer
local char = plr.Character
local humanoid = char:FindFirstChildOfClass("Humanoid")
local daesettings = game:GetService('ReplicatedStorage'):FindFirstChild("DAESettings")

if not daesettings then
    error("DAESettings doesn't exist, please re-install.")
end

-- this is a legit anti-exploit lmao

local runservice = game:GetService('RunService')
local renderstepped = runservice.RenderStepped

local humanoidrootpart = char.HumanoidRootPart
local lastpos = humanoidrootpart.CFrame

function kick()
  plr:Kick("[Error] Unexpected client behavior")
end

local distance = daesettings.TPDistance.Value
local walkspeed = daesettings.MaxWalkspeed.Value
local jumppower = daesettings.MaxJumpPower.Value

renderstepped:Connect(function()
    local magni = (humanoidrootpart.CFrame.p-lastpos.p).magnitude
    if magni>distance then
      kick()
    end
    if humanoid.WalkSpeed>walkspeed then
      kick()
    end
    if humanoid.JumpPower>jumppower then
      kick()
    end
    lastpos = humanoidrootpart.CFrame
end)
